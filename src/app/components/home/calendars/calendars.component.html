<div class="headerWrapper">
    <ia-comp-header [compHeaderSectionData]="headerData.sectionData" [compHeaderActionsShow]="headerData.actionsShow">
    </ia-comp-header>
</div>

<main>
    <!-- Show calendar filter -->
    <div class="filter">


        <!-- Filter buttons  - main options-->
        <ul class="filterButtons">
            <li (click)="typeViewShowed = 1; currentId = null" [class.filter-selected]="typeViewShowed === 1 ">{{ 'calendars.filter.showCountries' | translate}}</li>
            <li (click)="typeViewShowed = 2; currentId = null" [class.filter-selected]="typeViewShowed === 2 ">{{ 'calendars.filter.showCommunities' | translate}}</li>
            <li (click)="typeViewShowed = 3; currentId = null" [class.filter-selected]="typeViewShowed === 3 ">{{ 'calendars.filter.showCities' | translate}}</li>
        </ul>

        <!-- Filter suboptions -->
        <div [ngSwitch]="typeViewShowed" class="filterOptions">
            <!-- Show countries -->
            <ul *ngSwitchCase="1" class="filtratedList">
                <li *ngFor="let country of myCalendars | myCalendarsTypesPipe:1">
                    <a (click)="currentId = country.id" [ngClass]="{'active-calendar': country.id === currentId}">{{ country.name }}</a>
                </li>
            </ul>
            <!-- Show states -->
            <ul *ngSwitchCase="2" class="filtratedList">
                <li *ngFor="let state of (myCalendars | myCalendarsTypesPipe:2)">
                    <a (click)="currentId = state.id" [ngClass]="{'active-calendar': state.id === currentId}">{{ state.name }}</a>
                </li>
            </ul>
            <!-- Show cities -->
            <ul *ngSwitchCase="3" class="filtratedList">
                <li *ngFor="let city of (myCalendars | myCalendarsTypesPipe:3)">
                    <a (click)="currentId = city.id" [ngClass]="{'active-calendar': city.id === currentId}">{{ city.name }}</a>
                </li>
            </ul>

        </div>

        <!-- Create new calendar button -->
        <li class="createCalendarIcon">
            <a class="mdi mdi-plus-circle-outline add-calendar" [title]="'general.buttons.title.addCalendar' | translate" (click)="createCalendar()"></a>
        </li>

    </div>

    <!-- Calendar content -->
    <div class="choosenCalendar" *ngIf="currentId">
        <zem-calendar-selected
          [currentId]="currentId"
          [myCalendars]="myCalendars"
          [calendarType]="typeViewShowed"
        ></zem-calendar-selected>
    </div>

</main>
